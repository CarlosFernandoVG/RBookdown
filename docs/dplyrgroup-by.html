<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.5 dplyr::group_by() | Programación en R</title>
  <meta name="description" content="Material para el aprendizaje de R como lenguaje de programación para los cursos de Estadística en la Facultado de Ciencias, Universidad Nacional Autónoma de México" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="6.5 dplyr::group_by() | Programación en R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/CarlosFernandoVG/RBookdown" />
  
  <meta property="og:description" content="Material para el aprendizaje de R como lenguaje de programación para los cursos de Estadística en la Facultado de Ciencias, Universidad Nacional Autónoma de México" />
  <meta name="github-repo" content="CarlosFernandoVG/RBookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.5 dplyr::group_by() | Programación en R" />
  
  <meta name="twitter:description" content="Material para el aprendizaje de R como lenguaje de programación para los cursos de Estadística en la Facultado de Ciencias, Universidad Nacional Autónoma de México" />
  

<meta name="author" content="Sofía Villers Gómez" />
<meta name="author" content="Carlos Fernando Vásquez Guerra" />
<meta name="author" content="David Alberto Mateos Montes de Oca" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dplyrmutate.html"/>
<link rel="next" href="dplyrrename.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Programación en R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos"><i class="fa fa-check"></i>Objetivos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura"><i class="fa fa-check"></i>Estructura</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#detalles-técnicos"><i class="fa fa-check"></i>Detalles técnicos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licencia"><i class="fa fa-check"></i>Licencia</a></li>
</ul></li>
<li class="part"><span><b>I Todo empieza con R</b></span></li>
<li class="chapter" data-level="1" data-path="introducción-e-instalación.html"><a href="introducción-e-instalación.html"><i class="fa fa-check"></i><b>1</b> Introducción e instalación</a>
<ul>
<li class="chapter" data-level="" data-path="introducción-e-instalación.html"><a href="introducción-e-instalación.html#r-y-rstudio"><i class="fa fa-check"></i>R y RStudio</a></li>
<li class="chapter" data-level="" data-path="introducción-e-instalación.html"><a href="introducción-e-instalación.html#recursos-adicionales"><i class="fa fa-check"></i>Recursos adicionales</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>2</b> Markdown</a></li>
<li class="chapter" data-level="3" data-path="conocimientos-básicos-de-r.html"><a href="conocimientos-básicos-de-r.html"><i class="fa fa-check"></i><b>3</b> Conocimientos básicos de R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="buscando-ayuda.html"><a href="buscando-ayuda.html"><i class="fa fa-check"></i><b>3.1</b> Buscando ayuda</a></li>
<li class="chapter" data-level="3.2" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html"><i class="fa fa-check"></i><b>3.2</b> Vectores y operaciones</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#vectores-atómicos"><i class="fa fa-check"></i><b>3.2.1</b> Vectores atómicos</a></li>
<li class="chapter" data-level="3.2.2" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#otros-tipos-de-datos"><i class="fa fa-check"></i><b>3.2.2</b> Otros tipos de datos</a></li>
<li class="chapter" data-level="3.2.3" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#asignación-de-nombres-y-atributos"><i class="fa fa-check"></i><b>3.2.3</b> Asignación de nombres y atributos</a></li>
<li class="chapter" data-level="3.2.4" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#operaciones-básicas-en-r"><i class="fa fa-check"></i><b>3.2.4</b> Operaciones básicas en R</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html"><i class="fa fa-check"></i><b>3.3</b> Estructuras de datos</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#vectores"><i class="fa fa-check"></i><b>3.3.1</b> Vectores</a></li>
<li class="chapter" data-level="3.3.2" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#listas"><i class="fa fa-check"></i><b>3.3.2</b> Listas</a></li>
<li class="chapter" data-level="3.3.3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#arreglos"><i class="fa fa-check"></i><b>3.3.3</b> Arreglos</a></li>
<li class="chapter" data-level="3.3.4" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#data-frames"><i class="fa fa-check"></i><b>3.3.4</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html"><i class="fa fa-check"></i><b>3.4</b> Sentencias de control, ciclos y funciones</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html#if-if-else"><i class="fa fa-check"></i><b>3.4.1</b> If &amp; If-else</a></li>
<li class="chapter" data-level="3.4.2" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html#for-while-y-repeat"><i class="fa fa-check"></i><b>3.4.2</b> For, While y Repeat</a></li>
<li class="chapter" data-level="3.4.3" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html#funciones"><i class="fa fa-check"></i><b>3.4.3</b> Funciones</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="funciones-1.html"><a href="funciones-1.html"><i class="fa fa-check"></i><b>3.5</b> Funciones</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="funciones-1.html"><a href="funciones-1.html#funciones-2"><i class="fa fa-check"></i><b>3.5.1</b> Funciones</a></li>
<li class="chapter" data-level="3.5.2" data-path="funciones-1.html"><a href="funciones-1.html#vectorización"><i class="fa fa-check"></i><b>3.5.2</b> Vectorización</a></li>
<li class="chapter" data-level="3.5.3" data-path="funciones-1.html"><a href="funciones-1.html#paquetes"><i class="fa fa-check"></i><b>3.5.3</b> Paquetes</a></li>
<li class="chapter" data-level="3.5.4" data-path="funciones-1.html"><a href="funciones-1.html#miscellaneous"><i class="fa fa-check"></i><b>3.5.4</b> Miscellaneous</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="iteración-y-recursión.html"><a href="iteración-y-recursión.html"><i class="fa fa-check"></i><b>3.6</b> Iteración y Recursión</a></li>
<li class="chapter" data-level="3.7" data-path="graficación.html"><a href="graficación.html"><i class="fa fa-check"></i><b>3.7</b> Graficación</a></li>
</ul></li>
<li class="part"><span><b>II EfficientR</b></span></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> Tidyverse</a></li>
<li class="chapter" data-level="5" data-path="limpieza-de-datos-tidyr.html"><a href="limpieza-de-datos-tidyr.html"><i class="fa fa-check"></i><b>5</b> Limpieza de datos: Tidyr</a></li>
<li class="chapter" data-level="6" data-path="manipulación-de-datos-dplyr.html"><a href="manipulación-de-datos-dplyr.html"><i class="fa fa-check"></i><b>6</b> Manipulación de datos: Dplyr</a>
<ul>
<li class="chapter" data-level="6.1" data-path="dplyrfilter.html"><a href="dplyrfilter.html"><i class="fa fa-check"></i><b>6.1</b> dplyr::filter()</a></li>
<li class="chapter" data-level="6.2" data-path="dplyrselect.html"><a href="dplyrselect.html"><i class="fa fa-check"></i><b>6.2</b> dplyr::select()</a></li>
<li class="chapter" data-level="6.3" data-path="dplyrarrange.html"><a href="dplyrarrange.html"><i class="fa fa-check"></i><b>6.3</b> dplyr::arrange()</a></li>
<li class="chapter" data-level="6.4" data-path="dplyrmutate.html"><a href="dplyrmutate.html"><i class="fa fa-check"></i><b>6.4</b> dplyr::mutate()</a></li>
<li class="chapter" data-level="6.5" data-path="dplyrgroup-by.html"><a href="dplyrgroup-by.html"><i class="fa fa-check"></i><b>6.5</b> dplyr::group_by()</a></li>
<li class="chapter" data-level="6.6" data-path="dplyrrename.html"><a href="dplyrrename.html"><i class="fa fa-check"></i><b>6.6</b> dplyr::rename</a></li>
<li class="chapter" data-level="6.7" data-path="joins-y-set-operations.html"><a href="joins-y-set-operations.html"><i class="fa fa-check"></i><b>6.7</b> Joins y Set Operations</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graficación-de-datos-ggplot.html"><a href="graficación-de-datos-ggplot.html"><i class="fa fa-check"></i><b>7</b> Graficación de datos: Ggplot</a></li>
<li class="part"><span><b>III Presentando datos</b></span></li>
<li class="chapter" data-level="8" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i><b>8</b> Introducción</a></li>
<li class="chapter" data-level="9" data-path="manejo-de-números.html"><a href="manejo-de-números.html"><i class="fa fa-check"></i><b>9</b> Manejo de números</a></li>
<li class="chapter" data-level="10" data-path="tablas.html"><a href="tablas.html"><i class="fa fa-check"></i><b>10</b> Tablas</a>
<ul>
<li class="chapter" data-level="10.1" data-path="tabla-de-resumen.html"><a href="tabla-de-resumen.html"><i class="fa fa-check"></i><b>10.1</b> Tabla de resumen</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="gráficos.html"><a href="gráficos.html"><i class="fa fa-check"></i><b>11</b> Gráficos</a>
<ul>
<li class="chapter" data-level="11.1" data-path="gráfico-circular.html"><a href="gráfico-circular.html"><i class="fa fa-check"></i><b>11.1</b> Gráfico circular</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Hecho con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programación en R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyrgroup_by" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> dplyr::group_by()</h2>
<p>Un funcionalidad muy importante es el uso de datos agrupados. Dichos grupos serán subconjuntos de datos que compartan una característica en común. Esto tiene muchas ventajas ya que se pueden obtener funciones resumen con una mayor fluidez y aplicaciones de funciones por bloques en lugar de observaciones individuales. La función para otorgar esta propiedad es <code>dplyr::group_by()</code> en donde sus parámetros indican que variables servirán para crear los grupos de acuerdo a los diferentes valores de esas variables.</p>
<p>Por ejemplo, véase que es natural pensar que en los datos de la población ya vistos se tomen resúmenes por la variable <code>Rango_edad</code>.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="dplyrgroup-by.html#cb352-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Rango_edad)</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 4
# Groups:   Rango_edad [14]
   `Entidad Federativa` `Población Total` Rango_edad Población
   &lt;chr&gt;                            &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;
 1 Aguascalientes                 1066233 0 a 4        109853 
 2 Baja California                2856361 0 a 4        268842 
 3 Baja California Sur             512030 0 a 4         46070 
 4 Campeche                        755703 0 a 4         63034.
 5 Coahuila                       2501413 0 a 4        244624.
 6 Colima                          568642 0 a 4         45985 
 7 Chiapas                        4293414 0 a 4        491525 
 8 Chihuahua                      3241513 0 a 4        253834.
 9 Distrito Federal               8737172 0 a 4        682914.
10 Durango                        1509025 0 a 4        150485 
# … with 438 more rows</code></pre>
<p>A simple vista no se ve algún cambio, pero internamente ya se tiene más estructura a dicha base de datos, ahora existe un atributo llamado “groups”.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="dplyrgroup-by.html#cb354-1" aria-hidden="true"></a><span class="kw">str</span>(Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Rango_edad))</span></code></pre></div>
<pre class="scroll-300"><code>tibble [448 × 4] (S3: grouped_df/tbl_df/tbl/data.frame)
 $ Entidad Federativa: chr [1:448] &quot;Aguascalientes&quot; &quot;Baja California&quot; &quot;Baja California Sur&quot; &quot;Campeche&quot; ...
 $ Población Total   : num [1:448] 1066233 2856361 512030 755703 2501413 ...
 $ Rango_edad        : chr [1:448] &quot;0 a 4&quot; &quot;0 a 4&quot; &quot;0 a 4&quot; &quot;0 a 4&quot; ...
 $ Población         : num [1:448] 109853 268842 46070 63034 244624 ...
 - attr(*, &quot;groups&quot;)= tibble [14 × 2] (S3: tbl_df/tbl/data.frame)
  ..$ Rango_edad: chr [1:14] &quot;0 a 4&quot; &quot;10 a 14&quot; &quot;15 a 19&quot; &quot;20 a 24&quot; ...
  ..$ .rows     : list&lt;int&gt; [1:14] 
  .. ..$ : int [1:32] 1 2 3 4 5 6 7 8 9 10 ...
  .. ..$ : int [1:32] 65 66 67 68 69 70 71 72 73 74 ...
  .. ..$ : int [1:32] 97 98 99 100 101 102 103 104 105 106 ...
  .. ..$ : int [1:32] 129 130 131 132 133 134 135 136 137 138 ...
  .. ..$ : int [1:32] 161 162 163 164 165 166 167 168 169 170 ...
  .. ..$ : int [1:32] 193 194 195 196 197 198 199 200 201 202 ...
  .. ..$ : int [1:32] 225 226 227 228 229 230 231 232 233 234 ...
  .. ..$ : int [1:32] 257 258 259 260 261 262 263 264 265 266 ...
  .. ..$ : int [1:32] 289 290 291 292 293 294 295 296 297 298 ...
  .. ..$ : int [1:32] 33 34 35 36 37 38 39 40 41 42 ...
  .. ..$ : int [1:32] 321 322 323 324 325 326 327 328 329 330 ...
  .. ..$ : int [1:32] 353 354 355 356 357 358 359 360 361 362 ...
  .. ..$ : int [1:32] 385 386 387 388 389 390 391 392 393 394 ...
  .. ..$ : int [1:32] 417 418 419 420 421 422 423 424 425 426 ...
  .. ..@ ptype: int(0) 
  ..- attr(*, &quot;.drop&quot;)= logi TRUE</code></pre>
<p>Entonces, al aplicar funciones con <code>mutate</code>, estas se harán por grupos.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="dplyrgroup-by.html#cb356-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb356-2"><a href="dplyrgroup-by.html#cb356-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(Rango_edad) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb356-3"><a href="dplyrgroup-by.html#cb356-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="st">&quot;Población Mínima&quot;</span> =<span class="st"> </span><span class="kw">min</span>(Población), <span class="st">&quot;Población Máxima&quot;</span> =<span class="st"> </span><span class="kw">max</span>(Población))</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 6
# Groups:   Rango_edad [14]
   `Entidad Federa… `Población Tota… Rango_edad Población `Población Míni…
   &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;            &lt;dbl&gt;
 1 Aguascalientes            1066233 0 a 4        109853             45985
 2 Baja California           2856361 0 a 4        268842             45985
 3 Baja California…           512030 0 a 4         46070             45985
 4 Campeche                   755703 0 a 4         63034.            45985
 5 Coahuila                  2501413 0 a 4        244624.            45985
 6 Colima                     568642 0 a 4         45985             45985
 7 Chiapas                   4293414 0 a 4        491525             45985
 8 Chihuahua                 3241513 0 a 4        253834.            45985
 9 Distrito Federal          8737172 0 a 4        682914.            45985
10 Durango                   1509025 0 a 4        150485             45985
# … with 438 more rows, and 1 more variable: `Población Máxima` &lt;dbl&gt;</code></pre>
<p>Igual se puede agrupar por distintas variables</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="dplyrgroup-by.html#cb358-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb358-2"><a href="dplyrgroup-by.html#cb358-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">division =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">1</span>,<span class="dv">16</span>),<span class="kw">rep</span>(<span class="dv">2</span>,<span class="dv">16</span>)), <span class="dv">14</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb358-3"><a href="dplyrgroup-by.html#cb358-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(Rango_edad, division) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb358-4"><a href="dplyrgroup-by.html#cb358-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">index =</span> <span class="kw">row_number</span>()) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb358-5"><a href="dplyrgroup-by.html#cb358-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">Entidad Federativa</span><span class="st">`</span>, Rango_edad, division, index)</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 4
# Groups:   Rango_edad, division [28]
   `Entidad Federativa` Rango_edad division index
   &lt;chr&gt;                &lt;chr&gt;         &lt;dbl&gt; &lt;int&gt;
 1 Aguascalientes       0 a 4             1     1
 2 Baja California      0 a 4             1     2
 3 Baja California Sur  0 a 4             1     3
 4 Campeche             0 a 4             1     4
 5 Coahuila             0 a 4             1     5
 6 Colima               0 a 4             1     6
 7 Chiapas              0 a 4             1     7
 8 Chihuahua            0 a 4             1     8
 9 Distrito Federal     0 a 4             1     9
10 Durango              0 a 4             1    10
# … with 438 more rows</code></pre>
<p>Algo interesante que se puede hacer con datos agrupados es el uso de funciones para resumir información, tales como <code>dplyr::first()</code>, <code>dplyr::min()</code>, <code>dplyr::n()</code>, <code>dplyr::n_distinct()</code> y <code>dplyr::mean()</code>; estas funciones también se pueden usar sin datos agrupados. Véase los siguientes ejemplos</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="dplyrgroup-by.html#cb360-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb360-2"><a href="dplyrgroup-by.html#cb360-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(Rango_edad) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb360-3"><a href="dplyrgroup-by.html#cb360-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="kw">min</span>(Población))</span></code></pre></div>
<pre><code># A tibble: 14 x 2
   Rango_edad `min(Población)`
   &lt;chr&gt;                 &lt;dbl&gt;
 1 0 a 4                45985 
 2 10 a 14              51549 
 3 15 a 19              55391 
 4 20 a 24              44808 
 5 25 a 29              37723 
 6 30 a 34              35922.
 7 35 a 39              41890 
 8 40 a 44              37496.
 9 45 a 49              30294 
10 5 a 9                43193.
11 50 a 54              22129.
12 55 a 59              23534 
13 60 y más             34364 
14 NE                       0 </code></pre>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="dplyrgroup-by.html#cb362-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb362-2"><a href="dplyrgroup-by.html#cb362-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(Rango_edad) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb362-3"><a href="dplyrgroup-by.html#cb362-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="kw">last</span>(Población))</span></code></pre></div>
<pre><code># A tibble: 14 x 2
   Rango_edad `last(Población)`
   &lt;chr&gt;                  &lt;dbl&gt;
 1 0 a 4                127635.
 2 10 a 14              165710 
 3 15 a 19              143317 
 4 20 a 24              108938 
 5 25 a 29               94536.
 6 30 a 34               97108 
 7 35 a 39               92482.
 8 40 a 44               85895 
 9 45 a 49               72674 
10 5 a 9                152801 
11 50 a 54               49238 
12 55 a 59               53257 
13 60 y más             123730 
14 NE                     1067.</code></pre>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="dplyrgroup-by.html#cb364-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb364-2"><a href="dplyrgroup-by.html#cb364-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(Rango_edad) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb364-3"><a href="dplyrgroup-by.html#cb364-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="st">&quot;Población promedio&quot;</span> =<span class="st"> </span><span class="kw">mean</span>(Población))</span></code></pre></div>
<pre><code># A tibble: 14 x 2
   Rango_edad `Población promedio`
   &lt;chr&gt;                     &lt;dbl&gt;
 1 0 a 4                   301178.
 2 10 a 14                 361577.
 3 15 a 19                 326600.
 4 20 a 24                 269529.
 5 25 a 29                 237230.
 6 30 a 34                 244256 
 7 35 a 39                 225481.
 8 40 a 44                 197310.
 9 45 a 49                 169798.
10 5 a 9                   336668.
11 50 a 54                 130510.
12 55 a 59                 127968.
13 60 y más                302126.
14 NE                        4088.</code></pre>
<p>Otras funciones que ofrece <code>dplyr</code> para resumir información son <code>dplyr::summarise_each()</code> y <code>dplyr::count()</code>. La primera aplica la función resumen a cada una de las columnas y la segunda cuenta el número de valores únicos con o sin un peso establecido.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="dplyrgroup-by.html#cb366-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>()</span></code></pre></div>
<pre><code># A tibble: 1 x 1
      n
  &lt;int&gt;
1   448</code></pre>
<p>Para eliminar esta propiedad a los datos se utiliza la función <code>dplyr::ungroup()</code> y así la manipulación de datos continuará sin eliminar los resultados ya obtenidos.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dplyrmutate.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyrrename.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "github", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
