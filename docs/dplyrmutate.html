<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.4 dplyr::mutate() | Programación en R</title>
  <meta name="description" content="Material para el aprendizaje de R como lenguaje de programación para los cursos de Estadística en la Facultado de Ciencias, Universidad Nacional Autónoma de México" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="6.4 dplyr::mutate() | Programación en R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/CarlosFernandoVG/RBookdown" />
  
  <meta property="og:description" content="Material para el aprendizaje de R como lenguaje de programación para los cursos de Estadística en la Facultado de Ciencias, Universidad Nacional Autónoma de México" />
  <meta name="github-repo" content="CarlosFernandoVG/RBookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.4 dplyr::mutate() | Programación en R" />
  
  <meta name="twitter:description" content="Material para el aprendizaje de R como lenguaje de programación para los cursos de Estadística en la Facultado de Ciencias, Universidad Nacional Autónoma de México" />
  

<meta name="author" content="Sofía Villers Gómez" />
<meta name="author" content="Carlos Fernando Vásquez Guerra" />
<meta name="author" content="David Alberto Mateos Montes de Oca" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dplyrarrange.html"/>
<link rel="next" href="dplyrgroup-by.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Programación en R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos"><i class="fa fa-check"></i>Objetivos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura"><i class="fa fa-check"></i>Estructura</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#detalles-técnicos"><i class="fa fa-check"></i>Detalles técnicos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licencia"><i class="fa fa-check"></i>Licencia</a></li>
</ul></li>
<li class="part"><span><b>I Todo empieza con R</b></span></li>
<li class="chapter" data-level="1" data-path="introducción-e-instalación.html"><a href="introducción-e-instalación.html"><i class="fa fa-check"></i><b>1</b> Introducción e instalación</a>
<ul>
<li class="chapter" data-level="" data-path="introducción-e-instalación.html"><a href="introducción-e-instalación.html#r-y-rstudio"><i class="fa fa-check"></i>R y RStudio</a></li>
<li class="chapter" data-level="" data-path="introducción-e-instalación.html"><a href="introducción-e-instalación.html#recursos-adicionales"><i class="fa fa-check"></i>Recursos adicionales</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>2</b> Markdown</a></li>
<li class="chapter" data-level="3" data-path="conocimientos-básicos-de-r.html"><a href="conocimientos-básicos-de-r.html"><i class="fa fa-check"></i><b>3</b> Conocimientos básicos de R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="buscando-ayuda.html"><a href="buscando-ayuda.html"><i class="fa fa-check"></i><b>3.1</b> Buscando ayuda</a></li>
<li class="chapter" data-level="3.2" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html"><i class="fa fa-check"></i><b>3.2</b> Vectores y operaciones</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#vectores-atómicos"><i class="fa fa-check"></i><b>3.2.1</b> Vectores atómicos</a></li>
<li class="chapter" data-level="3.2.2" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#otros-tipos-de-datos"><i class="fa fa-check"></i><b>3.2.2</b> Otros tipos de datos</a></li>
<li class="chapter" data-level="3.2.3" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#asignación-de-nombres-y-atributos"><i class="fa fa-check"></i><b>3.2.3</b> Asignación de nombres y atributos</a></li>
<li class="chapter" data-level="3.2.4" data-path="vectores-y-operaciones.html"><a href="vectores-y-operaciones.html#operaciones-básicas-en-r"><i class="fa fa-check"></i><b>3.2.4</b> Operaciones básicas en R</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html"><i class="fa fa-check"></i><b>3.3</b> Estructuras de datos</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#vectores"><i class="fa fa-check"></i><b>3.3.1</b> Vectores</a></li>
<li class="chapter" data-level="3.3.2" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#listas"><i class="fa fa-check"></i><b>3.3.2</b> Listas</a></li>
<li class="chapter" data-level="3.3.3" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#arreglos"><i class="fa fa-check"></i><b>3.3.3</b> Arreglos</a></li>
<li class="chapter" data-level="3.3.4" data-path="estructuras-de-datos.html"><a href="estructuras-de-datos.html#data-frames"><i class="fa fa-check"></i><b>3.3.4</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html"><i class="fa fa-check"></i><b>3.4</b> Sentencias de control, ciclos y funciones</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html#if-if-else"><i class="fa fa-check"></i><b>3.4.1</b> If &amp; If-else</a></li>
<li class="chapter" data-level="3.4.2" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html#for-while-y-repeat"><i class="fa fa-check"></i><b>3.4.2</b> For, While y Repeat</a></li>
<li class="chapter" data-level="3.4.3" data-path="sentencias-de-control-ciclos-y-funciones.html"><a href="sentencias-de-control-ciclos-y-funciones.html#funciones"><i class="fa fa-check"></i><b>3.4.3</b> Funciones</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="funciones-1.html"><a href="funciones-1.html"><i class="fa fa-check"></i><b>3.5</b> Funciones</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="funciones-1.html"><a href="funciones-1.html#funciones-2"><i class="fa fa-check"></i><b>3.5.1</b> Funciones</a></li>
<li class="chapter" data-level="3.5.2" data-path="funciones-1.html"><a href="funciones-1.html#vectorización"><i class="fa fa-check"></i><b>3.5.2</b> Vectorización</a></li>
<li class="chapter" data-level="3.5.3" data-path="funciones-1.html"><a href="funciones-1.html#paquetes"><i class="fa fa-check"></i><b>3.5.3</b> Paquetes</a></li>
<li class="chapter" data-level="3.5.4" data-path="funciones-1.html"><a href="funciones-1.html#miscellaneous"><i class="fa fa-check"></i><b>3.5.4</b> Miscellaneous</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="iteración-y-recursión.html"><a href="iteración-y-recursión.html"><i class="fa fa-check"></i><b>3.6</b> Iteración y Recursión</a></li>
<li class="chapter" data-level="3.7" data-path="graficación.html"><a href="graficación.html"><i class="fa fa-check"></i><b>3.7</b> Graficación</a></li>
</ul></li>
<li class="part"><span><b>II EfficientR</b></span></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> Tidyverse</a></li>
<li class="chapter" data-level="5" data-path="limpieza-de-datos-tidyr.html"><a href="limpieza-de-datos-tidyr.html"><i class="fa fa-check"></i><b>5</b> Limpieza de datos: Tidyr</a></li>
<li class="chapter" data-level="6" data-path="manipulación-de-datos-dplyr.html"><a href="manipulación-de-datos-dplyr.html"><i class="fa fa-check"></i><b>6</b> Manipulación de datos: Dplyr</a>
<ul>
<li class="chapter" data-level="6.1" data-path="dplyrfilter.html"><a href="dplyrfilter.html"><i class="fa fa-check"></i><b>6.1</b> dplyr::filter()</a></li>
<li class="chapter" data-level="6.2" data-path="dplyrselect.html"><a href="dplyrselect.html"><i class="fa fa-check"></i><b>6.2</b> dplyr::select()</a></li>
<li class="chapter" data-level="6.3" data-path="dplyrarrange.html"><a href="dplyrarrange.html"><i class="fa fa-check"></i><b>6.3</b> dplyr::arrange()</a></li>
<li class="chapter" data-level="6.4" data-path="dplyrmutate.html"><a href="dplyrmutate.html"><i class="fa fa-check"></i><b>6.4</b> dplyr::mutate()</a></li>
<li class="chapter" data-level="6.5" data-path="dplyrgroup-by.html"><a href="dplyrgroup-by.html"><i class="fa fa-check"></i><b>6.5</b> dplyr::group_by()</a></li>
<li class="chapter" data-level="6.6" data-path="dplyrrename.html"><a href="dplyrrename.html"><i class="fa fa-check"></i><b>6.6</b> dplyr::rename</a></li>
<li class="chapter" data-level="6.7" data-path="joins-y-set-operations.html"><a href="joins-y-set-operations.html"><i class="fa fa-check"></i><b>6.7</b> Joins y Set Operations</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graficación-de-datos-ggplot.html"><a href="graficación-de-datos-ggplot.html"><i class="fa fa-check"></i><b>7</b> Graficación de datos: Ggplot</a></li>
<li class="part"><span><b>III Presentando datos</b></span></li>
<li class="chapter" data-level="8" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i><b>8</b> Introducción</a></li>
<li class="chapter" data-level="9" data-path="manejo-de-números.html"><a href="manejo-de-números.html"><i class="fa fa-check"></i><b>9</b> Manejo de números</a></li>
<li class="chapter" data-level="10" data-path="tablas.html"><a href="tablas.html"><i class="fa fa-check"></i><b>10</b> Tablas</a>
<ul>
<li class="chapter" data-level="10.1" data-path="tabla-de-resumen.html"><a href="tabla-de-resumen.html"><i class="fa fa-check"></i><b>10.1</b> Tabla de resumen</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="gráficos.html"><a href="gráficos.html"><i class="fa fa-check"></i><b>11</b> Gráficos</a>
<ul>
<li class="chapter" data-level="11.1" data-path="gráfico-circular.html"><a href="gráfico-circular.html"><i class="fa fa-check"></i><b>11.1</b> Gráfico circular</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="comentarios.html"><a href="comentarios.html"><i class="fa fa-check"></i><b>12</b> Comentarios</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Hecho con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programación en R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyrmutate" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> dplyr::mutate()</h2>
<p>La función <code>arrange()</code> modificó de una forma sutil los datos, sólo el orden; pero en el caso de que se desee modificar o agregar una nueva variable, ya sea en función de los valores de otra o nuevos valores independientes, se utiliza la función <code>dplyr::mutate()</code>.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="dplyrmutate.html#cb335-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Var_fake =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>, <span class="dt">size =</span> <span class="dv">448</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>))</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 5
   `Entidad Federativa` `Población Total` Rango_edad Porcentaje Var_fake
   &lt;chr&gt;                            &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;    &lt;int&gt;
 1 Aguascalientes                 1066233 0 a 4           10.3        20
 2 Baja California                2856361 0 a 4            9.41       11
 3 Baja California Sur             512030 0 a 4            9.00       33
 4 Campeche                        755703 0 a 4            8.34       38
 5 Coahuila                       2501413 0 a 4            9.78       28
 6 Colima                          568642 0 a 4            8.09        3
 7 Chiapas                        4293414 0 a 4           11.4        16
 8 Chihuahua                      3241513 0 a 4            7.83       40
 9 Distrito Federal               8737172 0 a 4            7.82        3
10 Durango                        1509025 0 a 4            9.97       40
# … with 438 more rows</code></pre>
<p>En esta función se pueden aplicar funciones ya pre-establecidas, además de <code>window functions</code> (véase la Cheat Sheet Data Wrangling) que se pueden obtener de R o de <code>dplyr</code> como <code>dplyr::lag()</code> y <code>dplyr::between()</code>. Véase los siguientes ejemplos:</p>
<ul>
<li>Se modifica el porcentaje en términos correctos.</li>
</ul>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="dplyrmutate.html#cb337-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Porcentaje =</span> Porcentaje<span class="op">/</span><span class="dv">100</span>)</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 4
   `Entidad Federativa` `Población Total` Rango_edad Porcentaje
   &lt;chr&gt;                            &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 Aguascalientes                 1066233 0 a 4          0.103 
 2 Baja California                2856361 0 a 4          0.0941
 3 Baja California Sur             512030 0 a 4          0.0900
 4 Campeche                        755703 0 a 4          0.0834
 5 Coahuila                       2501413 0 a 4          0.0978
 6 Colima                          568642 0 a 4          0.0809
 7 Chiapas                        4293414 0 a 4          0.114 
 8 Chihuahua                      3241513 0 a 4          0.0783
 9 Distrito Federal               8737172 0 a 4          0.0782
10 Durango                        1509025 0 a 4          0.0997
# … with 438 more rows</code></pre>
<ul>
<li>Se obtiene el porcentaje de población que tiene cada entidad federativa correspondiente a toda la población del país. (Recordar que la población total es 103,498,524)</li>
</ul>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="dplyrmutate.html#cb339-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb339-2"><a href="dplyrmutate.html#cb339-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Porcentaje_entidad =</span> <span class="st">`</span><span class="dt">Población Total</span><span class="st">`</span><span class="op">/</span><span class="dv">103498524</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb339-3"><a href="dplyrmutate.html#cb339-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">select</span>(<span class="kw">c</span>(<span class="st">`</span><span class="dt">Entidad Federativa</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Población Total</span><span class="st">`</span>, Porcentaje_entidad))</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 3
   `Entidad Federativa` `Población Total` Porcentaje_entidad
   &lt;chr&gt;                            &lt;dbl&gt;              &lt;dbl&gt;
 1 Aguascalientes                 1066233            0.0103 
 2 Baja California                2856361            0.0276 
 3 Baja California Sur             512030            0.00495
 4 Campeche                        755703            0.00730
 5 Coahuila                       2501413            0.0242 
 6 Colima                          568642            0.00549
 7 Chiapas                        4293414            0.0415 
 8 Chihuahua                      3241513            0.0313 
 9 Distrito Federal               8737172            0.0844 
10 Durango                        1509025            0.0146 
# … with 438 more rows</code></pre>
<ul>
<li>Se obtiene el porcentaje de la población total que hay por grupo quinquenal.</li>
</ul>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="dplyrmutate.html#cb341-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb341-2"><a href="dplyrmutate.html#cb341-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Porcentaje_entidad =</span> <span class="st">`</span><span class="dt">Población Total</span><span class="st">`</span><span class="op">/</span><span class="dv">103498524</span>, </span>
<span id="cb341-3"><a href="dplyrmutate.html#cb341-3" aria-hidden="true"></a>         <span class="dt">Porcentaje =</span> Porcentaje<span class="op">/</span><span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb341-4"><a href="dplyrmutate.html#cb341-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Porcentaje_quinquenal_P =</span> <span class="kw">percent</span>(Porcentaje<span class="op">*</span>Porcentaje_entidad, <span class="dt">accuracy =</span> <span class="fl">0.01</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">Entidad Federativa</span><span class="st">`</span>, Rango_edad, Porcentaje_quinquenal_P)</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 3
   `Entidad Federativa` Rango_edad Porcentaje_quinquenal_P
   &lt;chr&gt;                &lt;chr&gt;      &lt;chr&gt;                  
 1 Aguascalientes       0 a 4      0.11%                  
 2 Baja California      0 a 4      0.26%                  
 3 Baja California Sur  0 a 4      0.04%                  
 4 Campeche             0 a 4      0.06%                  
 5 Coahuila             0 a 4      0.24%                  
 6 Colima               0 a 4      0.04%                  
 7 Chiapas              0 a 4      0.47%                  
 8 Chihuahua            0 a 4      0.25%                  
 9 Distrito Federal     0 a 4      0.66%                  
10 Durango              0 a 4      0.15%                  
# … with 438 more rows</code></pre>
<ul>
<li>Uso de funciones</li>
</ul>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="dplyrmutate.html#cb343-1" aria-hidden="true"></a>Student_grades <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Sobresaliente =</span> <span class="kw">if_else</span>(Calificaciones<span class="op">&gt;=</span><span class="dv">9</span>, T, F))</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 10 x 4
   Nombre  Asignatura Calificaciones Sobresaliente
   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;          &lt;lgl&gt;        
 1 Juan    M          8              FALSE        
 2 Carlos  M          9              TRUE         
 3 Luis    M          7              FALSE        
 4 Allison M          9              TRUE         
 5 Leticia M          8              FALSE        
 6 Juan    Q          9              TRUE         
 7 Carlos  Q          7              FALSE        
 8 Luis    Q          8              FALSE        
 9 Allison Q          9              TRUE         
10 Leticia Q          9              TRUE         </code></pre>
<ul>
<li>Agregar un índice a los datos</li>
</ul>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="dplyrmutate.html#cb345-1" aria-hidden="true"></a>Student_grades <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">index =</span> <span class="kw">row_number</span>())</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 10 x 4
   Nombre  Asignatura Calificaciones index
   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;          &lt;int&gt;
 1 Juan    M          8                  1
 2 Carlos  M          9                  2
 3 Luis    M          7                  3
 4 Allison M          9                  4
 5 Leticia M          8                  5
 6 Juan    Q          9                  6
 7 Carlos  Q          7                  7
 8 Luis    Q          8                  8
 9 Allison Q          9                  9
10 Leticia Q          9                 10</code></pre>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="dplyrmutate.html#cb347-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb347-2"><a href="dplyrmutate.html#cb347-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Porcentaje =</span> Porcentaje<span class="op">/</span><span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb347-3"><a href="dplyrmutate.html#cb347-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="st">&quot;Población&quot;</span> =<span class="st"> </span>Porcentaje <span class="op">*</span><span class="st"> `</span><span class="dt">Población Total</span><span class="st">`</span>)</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 5
   `Entidad Federativa` `Población Total` Rango_edad Porcentaje Población
   &lt;chr&gt;                            &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;
 1 Aguascalientes                 1066233 0 a 4          0.103    109853 
 2 Baja California                2856361 0 a 4          0.0941   268842 
 3 Baja California Sur             512030 0 a 4          0.0900    46070 
 4 Campeche                        755703 0 a 4          0.0834    63034.
 5 Coahuila                       2501413 0 a 4          0.0978   244624.
 6 Colima                          568642 0 a 4          0.0809    45985 
 7 Chiapas                        4293414 0 a 4          0.114    491525 
 8 Chihuahua                      3241513 0 a 4          0.0783   253834.
 9 Distrito Federal               8737172 0 a 4          0.0782   682914.
10 Durango                        1509025 0 a 4          0.0997   150485 
# … with 438 more rows</code></pre>
<p>En este último ejemplo se modifico la base de datos de la población donde puede notarse que la anterior función no elimina las variables con las que se opera, esto podría hacerse con la función <code>select()</code>, o bien con la función <code>dplyr::transmute()</code>, aunque elimina también aquellas columnas que no se utilizan.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="dplyrmutate.html#cb349-1" aria-hidden="true"></a>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb349-2"><a href="dplyrmutate.html#cb349-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Porcentaje =</span> Porcentaje<span class="op">/</span><span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb349-3"><a href="dplyrmutate.html#cb349-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">transmute</span>(<span class="st">&quot;Población&quot;</span> =<span class="st"> </span>Porcentaje <span class="op">*</span><span class="st"> `</span><span class="dt">Población Total</span><span class="st">`</span>)</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 1
   Población
       &lt;dbl&gt;
 1   109853 
 2   268842 
 3    46070 
 4    63034.
 5   244624.
 6    45985 
 7   491525 
 8   253834.
 9   682914.
10   150485 
# … with 438 more rows</code></pre>
<p>Así que se hará lo siguiente</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="dplyrmutate.html#cb351-1" aria-hidden="true"></a>(Population_FEntity &lt;-<span class="st"> </span>Population_FEntity <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb351-2"><a href="dplyrmutate.html#cb351-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Porcentaje =</span> Porcentaje<span class="op">/</span><span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb351-3"><a href="dplyrmutate.html#cb351-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="st">&quot;Población&quot;</span> =<span class="st"> </span>Porcentaje <span class="op">*</span><span class="st"> `</span><span class="dt">Población Total</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>Porcentaje))</span></code></pre></div>
<pre class="scroll-300"><code># A tibble: 448 x 4
   `Entidad Federativa` `Población Total` Rango_edad Población
   &lt;chr&gt;                            &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;
 1 Aguascalientes                 1066233 0 a 4        109853 
 2 Baja California                2856361 0 a 4        268842 
 3 Baja California Sur             512030 0 a 4         46070 
 4 Campeche                        755703 0 a 4         63034.
 5 Coahuila                       2501413 0 a 4        244624.
 6 Colima                          568642 0 a 4         45985 
 7 Chiapas                        4293414 0 a 4        491525 
 8 Chihuahua                      3241513 0 a 4        253834.
 9 Distrito Federal               8737172 0 a 4        682914.
10 Durango                        1509025 0 a 4        150485 
# … with 438 more rows</code></pre>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dplyrarrange.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyrgroup-by.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "github", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
